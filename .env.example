# ABCFood MM Core - Environment Variables
# Copy this file to .env and fill in the values

# =============================================================================
# Application
# =============================================================================
APP_NAME=abcfood-mm-core
APP_ENV=development  # development, staging, production
DEBUG=true
API_KEY=your-secure-api-key-here

# =============================================================================
# PostgreSQL (Odoo DBs + Audit Logs)
# =============================================================================
PG_HOST=88.99.226.47
PG_PORT=5432
PG_USER=postgres
PG_PASSWORD=your-postgres-password

# Audit database (create this database: CREATE DATABASE mm_audit;)
PG_AUDIT_DB=mm_audit

# =============================================================================
# Odoo XML-RPC - Multi-server Architecture
# For invoice/expense/leave approvals
#
# Two Odoo versions are supported:
#
# ODOO 16 (Main ERP - tln_db, ieg_db, tmi_db):
#   PRODUCTION: Each company has its own server
#     - tln.abcfood.app -> tln_db (PT Teladan)
#     - ieg.abcfood.app -> ieg_db (PT IEG)
#     - tmi.abcfood.app -> tmi_db (PT TMI)
#   DEVELOPMENT: Single server
#     - odoo-16-dev.abcfood.app -> tln_db, ieg_db, tmi_db
#
# ODOO 13 (HRIS - hris_db):
#   PRODUCTION: TBD
#   DEVELOPMENT: odoo-13-dev.abcfood.app -> hris_db
#
# Same credentials (service_account) for all servers
# =============================================================================

# Odoo 16 hosts (Main ERP)
ODOO_HOST_TLN=odoo-16-dev.abcfood.app
ODOO_HOST_IEG=odoo-16-dev.abcfood.app
ODOO_HOST_TMI=odoo-16-dev.abcfood.app

# Odoo 13 host (HRIS)
ODOO_HOST_HRIS=odoo-13-dev.abcfood.app

# Production example (uncomment for production):
# ODOO_HOST_TLN=tln.abcfood.app
# ODOO_HOST_IEG=ieg.abcfood.app
# ODOO_HOST_TMI=tmi.abcfood.app
# ODOO_HOST_HRIS=hris.abcfood.app  # TBD

ODOO_PORT=8069
ODOO_USER=service_account
ODOO_PASSWORD=your-odoo-password

# Allowed databases (comma-separated)
# Includes Odoo 16 (tln, ieg, tmi) and Odoo 13 (hris)
ALLOWED_ODOO_DBS=tln_db,ieg_db,tmi_db,hris_db

# =============================================================================
# ClickHouse (Analytics ONLY)
# Read-only queries for metrics and reports
# =============================================================================
CH_HOST=138.199.213.219
CH_PORT=8123
CH_USER=clickhouse
CH_PASSWORD=your-clickhouse-password

# =============================================================================
# Authentik OAuth2/JWT
# For user authentication via Mattermost SSO
# =============================================================================
AUTHENTIK_ISSUER=https://auth.abcfood.app
AUTHENTIK_JWKS_URI=https://auth.abcfood.app/application/o/mm-core/jwks/
AUTHENTIK_CLIENT_ID=mm-core
AUTHENTIK_CLIENT_SECRET=

# =============================================================================
# Mattermost Slash Commands
# For direct Mattermost integration
# =============================================================================
MM_SLASH_TOKEN=
MM_API_URL=https://mm.abcfood.app/api/v4
MM_BOT_TOKEN=
MM_WEBHOOK_SECRET=

# =============================================================================
# Frappe 15
# For CRM, custom forms, and sales orders
# =============================================================================
FRAPPE_SITE=erp.abcfood.app
FRAPPE_API_KEY=
FRAPPE_API_SECRET=

# =============================================================================
# Metabase
# For dashboard and question URL generation
# =============================================================================
MB_DOMAIN=mb.abcfood.app
MB_EMBEDDING_SECRET=
MB_SESSION_TOKEN=
